{"ast":null,"code":"import * as actionType from \"../actions/actionType\";\nconst initialState = {\n  cartAr: []\n};\n\nconst cartReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionType.BUY_PRODUCT:\n      const productInCart = state.cartAr.find(p => p.id === action.payload.id);\n\n      if (!productInCart) {\n        return {\n          cartAr: [...state.cartAr, action.payload]\n        };\n      } else {\n        let newcart = state.cartAr;\n        const objIndex = newcart.findIndex(obj => obj.id === action.payload.id);\n\n        if (newcart[objIndex].quantity === undefined) {\n          newcart[objIndex].quantity = 2;\n        } else {\n          newcart[objIndex].quantity = newcart[objIndex].quantity + 1;\n        }\n\n        return {\n          cartAr: [...newcart]\n        };\n      }\n\n    case actionType.DELETE_PRODUCT:\n      let newcart = state.cartAr;\n      const objIndex = newcart.findIndex(obj => obj.id === action.payload.id);\n      newcart.splice(objIndex, 1);\n      console.log(\">>newcart\", newcart);\n      return {\n        cartAr: [...newcart],\n        totalprice: 0\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["C:/Users/DELL/Downloads/cart_redux/src/Product/reducers/index.js"],"names":["actionType","initialState","cartAr","cartReducer","state","action","type","BUY_PRODUCT","productInCart","find","p","id","payload","newcart","objIndex","findIndex","obj","quantity","undefined","DELETE_PRODUCT","splice","console","log","totalprice"],"mappings":"AAAA,OAAO,KAAKA,UAAZ,MAA4B,uBAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE;AADW,CAArB;;AAIA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AACpD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKN,UAAU,CAACO,WAAhB;AACE,YAAMC,aAAa,GAAGJ,KAAK,CAACF,MAAN,CAAaO,IAAb,CACnBC,CAAD,IAAOA,CAAC,CAACC,EAAF,KAASN,MAAM,CAACO,OAAP,CAAeD,EADX,CAAtB;;AAGA,UAAI,CAACH,aAAL,EAAoB;AAClB,eAAO;AACLN,UAAAA,MAAM,EAAE,CAAC,GAAGE,KAAK,CAACF,MAAV,EAAkBG,MAAM,CAACO,OAAzB;AADH,SAAP;AAGD,OAJD,MAIO;AACL,YAAIC,OAAO,GAAGT,KAAK,CAACF,MAApB;AACA,cAAMY,QAAQ,GAAGD,OAAO,CAACE,SAAR,CACdC,GAAD,IAASA,GAAG,CAACL,EAAJ,KAAWN,MAAM,CAACO,OAAP,CAAeD,EADpB,CAAjB;;AAGA,YAAIE,OAAO,CAACC,QAAD,CAAP,CAAkBG,QAAlB,KAA+BC,SAAnC,EAA8C;AAC5CL,UAAAA,OAAO,CAACC,QAAD,CAAP,CAAkBG,QAAlB,GAA6B,CAA7B;AACD,SAFD,MAEO;AACLJ,UAAAA,OAAO,CAACC,QAAD,CAAP,CAAkBG,QAAlB,GAA6BJ,OAAO,CAACC,QAAD,CAAP,CAAkBG,QAAlB,GAA6B,CAA1D;AACD;;AAED,eAAO;AAAEf,UAAAA,MAAM,EAAE,CAAC,GAAGW,OAAJ;AAAV,SAAP;AACD;;AACH,SAAKb,UAAU,CAACmB,cAAhB;AACE,UAAIN,OAAO,GAAGT,KAAK,CAACF,MAApB;AACA,YAAMY,QAAQ,GAAGD,OAAO,CAACE,SAAR,CAAmBC,GAAD,IAASA,GAAG,CAACL,EAAJ,KAAWN,MAAM,CAACO,OAAP,CAAeD,EAArD,CAAjB;AACAE,MAAAA,OAAO,CAACO,MAAR,CAAeN,QAAf,EAAyB,CAAzB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBT,OAAzB;AACA,aAAO;AAAEX,QAAAA,MAAM,EAAE,CAAC,GAAGW,OAAJ,CAAV;AAAwBU,QAAAA,UAAU,EAAE;AAApC,OAAP;;AAEF;AACE,aAAOnB,KAAP;AA9BJ;AAgCD,CAjCD;;AAmCA,eAAeD,WAAf","sourcesContent":["import * as actionType from \"../actions/actionType\";\r\n\r\nconst initialState = {\r\n  cartAr: [],\r\n};\r\n\r\nconst cartReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionType.BUY_PRODUCT:\r\n      const productInCart = state.cartAr.find(\r\n        (p) => p.id === action.payload.id\r\n      );\r\n      if (!productInCart) {\r\n        return {\r\n          cartAr: [...state.cartAr, action.payload],\r\n        };\r\n      } else {\r\n        let newcart = state.cartAr;\r\n        const objIndex = newcart.findIndex(\r\n          (obj) => obj.id === action.payload.id\r\n        );\r\n        if (newcart[objIndex].quantity === undefined) {\r\n          newcart[objIndex].quantity = 2;\r\n        } else {\r\n          newcart[objIndex].quantity = newcart[objIndex].quantity + 1;\r\n        }\r\n\r\n        return { cartAr: [...newcart] };\r\n      }\r\n    case actionType.DELETE_PRODUCT:\r\n      let newcart = state.cartAr;\r\n      const objIndex = newcart.findIndex((obj) => obj.id === action.payload.id);\r\n      newcart.splice(objIndex, 1);\r\n      console.log(\">>newcart\", newcart);\r\n      return { cartAr: [...newcart], totalprice: 0 };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}